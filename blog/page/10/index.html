
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Emacs Redux</title>
  <meta name="author" content="Bozhidar Batsov">

  
  <meta name="description" content="The Emacs Lisp interpreter&#8217;s integration with Emacs is pervasive. One
can evaluate Emacs Lisp just about everywhere in so many different
ways. &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://emacsredux.com/blog/page/10">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Emacs Redux" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39624961-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Emacs Redux</a></h1>
  
    <h2>Return to the Essence of Text Editing</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:emacsredux.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
  <li><a href="https://github.com/bbatsov/prelude">Prelude</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/18/evaluate-emacs-lisp-in-the-minibuffer/">Evaluate Emacs Lisp in the Minibuffer</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-18T14:44:00+03:00" pubdate data-updated="true">Apr 18<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/04/18/evaluate-emacs-lisp-in-the-minibuffer/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The Emacs Lisp interpreter&#8217;s integration with Emacs is pervasive. One
can evaluate Emacs Lisp just about everywhere in so many different
ways. One way I find particularly handy(especially for short snippets of
code) is evaluating Emacs Lisp directly in the minibuffer. This is
done with <code>M-:</code>(bound to the command <code>eval-expression</code>).</p>

<p>Upon typing this magic keycombo you&#8217;ll be presented with the prompt
<code>Eval:</code> in the minibuffer and there you can enter any Lisp
expression. Hitting <code>Return</code> will result in the expression&#8217;s
evaluation.</p>

<p>There is one minor snafu with this, though - I&#8217;m addicted to
<a href="http://emacsrocks.com/e14.html">Paredit</a>(for editing Lisp code at
least) and Paredit is not automatically enabled in the
minibuffer. Let&#8217;s change that:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">conditionally-enable-paredit-mode</span> <span class="p">()</span>
</span><span class='line'>  <span class="s">&quot;Enable `paredit-mode&#39; in the minibuffer, during `eval-expression&#39;.&quot;</span>
</span><span class='line'>  <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nb">eq</span> <span class="nv">this-command</span> <span class="ss">&#39;eval-expression</span><span class="p">)</span>
</span><span class='line'>      <span class="p">(</span><span class="nv">paredit-mode</span> <span class="mi">1</span><span class="p">)))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nv">add-hook</span> <span class="ss">&#39;minibuffer-setup-hook</span> <span class="ss">&#39;conditionally-enable-paredit-mode</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Evaluate this snippet and try <code>M-:</code> again. If you&#8217;re like me - the
results will please you.</p>

<p>It should come as no surprise that
<a href="https://github.com/bbatsov/prelude">Prelude</a> enables Paredit by
default for <code>eval-expression</code>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/12/delete-selection-on-insert/">Delete Selection on Insert</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-12T11:57:00+03:00" pubdate data-updated="true">Apr 12<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/04/12/delete-selection-on-insert/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>It most text editors if you select a piece of text and press any
key(that&#8217;s not bound to some command) the selection would be replaced
by the character bound to the key(or deleted if you press
<code>Backspace</code>).  In Emacs things look differently - by default typed
text is just inserted at point, regardless of any selection.</p>

<p>Of course, there is a way to change this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="nv">delete-selection-mode</span> <span class="mi">+1</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now when <code>transient-mark-mode</code> is also enabled(it is enabled by
default since Emacs 23) any typed text replaces the selection if the
selection is active.</p>

<p>Personally I find this behavior more useful than the default
one. That&#8217;s why it should be no surprise that <code>delete-selection-mode</code>
is enabled by default in
<a href="https://github.com/bbatsov/prelude">Prelude</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/09/kill-whole-line/">Kill Whole Line</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-09T14:49:00+03:00" pubdate data-updated="true">Apr 9<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/04/09/kill-whole-line/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Let&#8217;s continue our exploration of the fascinating topic of
<a href="/blog/2013/04/08/kill-line-backward/">killing lines</a>. Apart from
killing lines from the cursor to the end of the line(<code>kill-line</code>) and
killing lines from the cursor back to the beginning of the
line(<code>kill-line</code> with a <code>0</code> prefix argument) you can also kill entire
lines with a single command - <code>kill-whole-line</code>.</p>

<p>The command is bound to <code>C-S-Backspace</code> by default and kills the line
including its newline. With a prefix argument, it will kill that many
lines starting from the current line. If the argument is negative it
will kill that many lines backward plus the preceding newline. If the
argument is <code>0</code>, it will kill the current line but exclude the
trailing newline. We can improve the command a bit by making it
indentation aware(like we did for backward kill line in the previous post):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">smart-kill-whole-line</span> <span class="p">(</span><span class="k">&amp;optional</span> <span class="nv">arg</span><span class="p">)</span>
</span><span class='line'>  <span class="s">&quot;A simple wrapper around `kill-whole-line&#39; that respects indentation.&quot;</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">interactive</span> <span class="s">&quot;P&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">kill-whole-line</span> <span class="nv">arg</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">back-to-indentation</span><span class="p">))</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now we can rebind <code>C-S-Backspace</code>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="nv">global-set-key</span> <span class="nv">[remap</span> <span class="nv">kill-whole-line]</span> <span class="ss">&#39;smart-kill-whole-line</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>remap</code> is a pretty neat trick in its own right; maybe I&#8217;ll write a
bit more about it in the future.</p>

<p>The <code>smart-kill-whole-line</code> command is available out-of-the-box in
<a href="https://github.com/bbatsov/prelude">Prelude</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/08/kill-line-backward/">Kill Line Backward</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-08T18:33:00+03:00" pubdate data-updated="true">Apr 8<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/04/08/kill-line-backward/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Emacs does not have a command <code>backward-kill-line</code>(which would kill
the text from the point to the beginning of the line), but it doesn&#8217;t
really need one anyways. Why so? Simple enough - invoking <code>kill-line</code>
with a prefix argument <code>0</code> does exactly the same thing!</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>C-0 C-k
</span><span class='line'>M-0 C-k
</span><span class='line'>C-u 0 C-k</span></code></pre></td></tr></table></div></figure>


<p>Take your pick! If you&#8217;d rather have a quicker way to do backward line
killing you might consider rebinding <code>C-Backspace</code> or
<code>M-Backspace</code>(both are bound to <code>backward-word-kill</code> by
default). Personally I always do word killing with <code>M-Backspace</code>, so I
favor rebinding <code>C-Backspace</code>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;C-&lt;backspace&gt;&quot;</span><span class="p">)</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">()</span>
</span><span class='line'>                                        <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
</span><span class='line'>                                        <span class="p">(</span><span class="nv">kill-line</span> <span class="mi">0</span><span class="p">)))</span>
</span></code></pre></td></tr></table></div></figure>


<p>This command can be further improved if killing backward factors the
current indentation level:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;C-&lt;backspace&gt;&quot;</span><span class="p">)</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">()</span>
</span><span class='line'>                                        <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
</span><span class='line'>                                        <span class="p">(</span><span class="nv">kill-line</span> <span class="mi">0</span><span class="p">)</span>
</span><span class='line'>                                        <span class="p">(</span><span class="nv">indent-according-to-mode</span><span class="p">)))</span>
</span></code></pre></td></tr></table></div></figure>


<p>Thanks to <a href="https://twitter.com/sanityinc">Steve Purcell</a> for
suggesting a similar command in the comments.</p>

<p>The <code>C-Backspace</code> keybinding is available out-of-the-box in
<a href="https://github.com/bbatsov/prelude">Prelude</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/07/display-visited-files-path-in-the-frame-title/">Display Visited File&#8217;s Path in the Frame Title</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-07T14:19:00+03:00" pubdate data-updated="true">Apr 7<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/04/07/display-visited-files-path-in-the-frame-title/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;m fond of seeing somewhere the full path to the file I&#8217;m currently
editing(as opposed to just the file name displayed in
modeline). Emacs&#8217;s frame title seems like a good place to display such
information, since by default it doesn&#8217;t show anything
interesting. Here&#8217;s how we can achieve this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="k">setq</span> <span class="nv">frame-title-format</span>
</span><span class='line'>      <span class="o">&#39;</span><span class="p">((</span><span class="ss">:eval</span> <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nv">buffer-file-name</span><span class="p">)</span>
</span><span class='line'>                   <span class="p">(</span><span class="nv">abbreviate-file-name</span> <span class="p">(</span><span class="nv">buffer-file-name</span><span class="p">))</span>
</span><span class='line'>                 <span class="s">&quot;%b&quot;</span><span class="p">))))</span>
</span></code></pre></td></tr></table></div></figure>


<p>The path will be displayed in an abbreviated manner(<code>/home/bozhidar/</code>
will be shortened to just <code>~/</code>). If you&#8217;d like to see the expanded path
just remove the <code>abbreviate-file-name</code> function invocation. If a
buffer is not visiting a file, the buffer&#8217;s name would be displayed
instead.</p>

<p><a href="https://github.com/bbatsov/prelude">Prelude</a> sets
<code>frame-title-format</code> like this by default.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/05/recently-visited-files/">Recently Visited Files</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-05T14:50:00+03:00" pubdate data-updated="true">Apr 5<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/04/05/recently-visited-files/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Emacs does not keep track of recently visited files by default. Sad,
but true.  On a more positive note - it has the feature(courtesy of
<code>recentf</code>), but it&#8217;s simply not enabled out-of-the-box. Let&#8217;s see what
we can do to change that:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;recentf</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="k">setq</span> <span class="nv">recentf-max-saved-items</span> <span class="mi">200</span>
</span><span class='line'>      <span class="nv">recentf-max-menu-items</span> <span class="mi">15</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nv">recentf-mode</span> <span class="mi">+1</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>That wasn&#8217;t that hard. Now Emacs will keep track of the last <code>200</code>
files we visited and will show the last 15 of them in the <code>File-&gt;Open
recent</code>(this menu entry is added by <code>recentf</code>) menu. That&#8217;s it.</p>

<p>At this point you&#8217;re probably feeling let down. After all - who uses
the menu bar in Emacs anyways? Fortunately there is also a command
named <code>recentf-open-files</code>.  Upon invoking it with <code>M-x
recentf-open-files</code> you&#8217;ll be presented with a list of all recently
visited files.</p>

<p>If you&#8217;re an <code>ido</code> user you might prefer to use some command based on
it instead. Here&#8217;s one:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">recentf-ido-find-file</span> <span class="p">()</span>
</span><span class='line'>  <span class="s">&quot;Find a recent file using ido.&quot;</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">file</span> <span class="p">(</span><span class="nv">ido-completing-read</span> <span class="s">&quot;Choose recent file: &quot;</span> <span class="nv">recentf-list</span> <span class="no">nil</span> <span class="no">t</span><span class="p">)))</span>
</span><span class='line'>    <span class="p">(</span><span class="nb">when</span> <span class="nv">file</span>
</span><span class='line'>      <span class="p">(</span><span class="nv">find-file</span> <span class="nv">file</span><span class="p">))))</span>
</span></code></pre></td></tr></table></div></figure>


<p>I&#8217;d suggest binding whichever command you prefer to either <code>C-c f</code> or
<code>C-x C-r</code> (bound by default to the infrequently used
<code>find-file-read-only</code> command):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;C-c f&quot;</span><span class="p">)</span> <span class="ss">&#39;recentf-ido-find-file</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>As usual - both the command <code>recentf-ido-find-file</code> and its keybinding
<code>C-c f</code> are available in
<a href="https://github.com/bbatsov/prelude">Prelude</a>(obviously <code>recentf</code> is
enabled there out-of-the-box).</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/05/prog-mode-the-parent-of-all-programming-modes/">Prog-mode: The Parent of All Programming Modes</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-05T12:04:00+03:00" pubdate data-updated="true">Apr 5<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/04/05/prog-mode-the-parent-of-all-programming-modes/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>You probably know that major modes in Emacs can derive(inherit)
functionality from a parent major mode.</p>

<p>Emacs 24.1 introduced <code>prog-mode</code> - a new major mode from which all
programming modes should be derived. All of the programming modes that
come bundled with Emacs already inherit it(as do most
actively maintained third-party modes). Having a common parent for all
the programming modes allows us to do some pretty neat stuff - like
setting common behavior for all of them. Here&#8217;s how we can enable
spell-checking in comments:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="nv">add-hook</span> <span class="ss">&#39;prog-mode-hook</span> <span class="ss">&#39;flyspell-prog-mode</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>That&#8217;s all for now. We&#8217;ll discuss <code>flyspell</code> in more detail down the road.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/03/easter-eggs/">Easter Eggs</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-03T12:39:00+03:00" pubdate data-updated="true">Apr 3<span>rd</span>, 2013</time>
        
         | <a href="/blog/2013/04/03/easter-eggs/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Emacs is packed with an insane amount of cool stuff. With Easter fast
approaching (I&#8217;m an Orthodox Christian and ours is in the beginning of
May this year) I cannot help but think of <strong>easter eggs</strong>(&#8220;secret&#8221;
commands, inside jokes, etc). Let&#8217;s see if we can find some in Emacs!</p>

<h4>Snake</h4>

<p><code>M-x snake</code></p>

<h4>Tetris</h4>

<p><code>M-x tetris</code></p>

<h4>Zone</h4>

<p><code>M-x zone</code>
<code>M-x zone-mode</code></p>

<h4>Doctor</h4>

<p><code>M-x doctor</code></p>

<h4>Butterfly Mode</h4>

<p><code>M-x butterfly</code> (refer to <a href="http://xkcd.com/378/">this xkcd comics</a> if
you have no idea what this is)</p>

<h4>Final Words</h4>

<p>This was a short post(and not particularly instructive I guess), but I
hope you&#8217;ve enjoyed it. Share in the comments section any Emacs easter
eggs you know of, that I haven&#8217;t mentioned.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/03/delete-file-and-buffer/">Delete File and Buffer</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-03T12:24:00+03:00" pubdate data-updated="true">Apr 3<span>rd</span>, 2013</time>
        
         | <a href="/blog/2013/04/03/delete-file-and-buffer/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>From time to time(most often when I refactor code) I need to
quickly(this removes <code>dired</code> from the equation) delete a file and kill
the buffer associated with it. Since most of the files I work with
are under version control I can just use the tried and true <code>M-x
vc-delete-file</code>. Unfortunately the command does not act on the current
file and will prompt you for a file to delete. Looks like we need to
create a simple wrapper around it to get the job done:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">delete-file-and-buffer</span> <span class="p">()</span>
</span><span class='line'>  <span class="s">&quot;Kill the current buffer and deletes the file it is visiting.&quot;</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">filename</span> <span class="p">(</span><span class="nv">buffer-file-name</span><span class="p">)))</span>
</span><span class='line'>    <span class="p">(</span><span class="nb">when</span> <span class="nv">filename</span>
</span><span class='line'>      <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nv">vc-backend</span> <span class="nv">filename</span><span class="p">)</span>
</span><span class='line'>          <span class="p">(</span><span class="nv">vc-delete-file</span> <span class="nv">filename</span><span class="p">)</span>
</span><span class='line'>        <span class="p">(</span><span class="k">progn</span>
</span><span class='line'>          <span class="p">(</span><span class="nb">delete-file</span> <span class="nv">filename</span><span class="p">)</span>
</span><span class='line'>          <span class="p">(</span><span class="nv">message</span> <span class="s">&quot;Deleted file %s&quot;</span> <span class="nv">filename</span><span class="p">)</span>
</span><span class='line'>          <span class="p">(</span><span class="nv">kill-buffer</span><span class="p">))))))</span>
</span></code></pre></td></tr></table></div></figure>


<p>The wrapper is extra smart and will work on files that are not under
version control as well! I&#8217;m pretty fond of commands that do what you
mean instead of throwing errors. Now that we have this neat little
command we should probably bind it to some each to press keys, like <code>C-c D</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;C-c D&quot;</span><span class="p">)</span>  <span class="ss">&#39;delete-file-and-buffer</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>As usual both the command and its keybinding are available in
<a href="https://github.com/bbatsov/prelude">Prelude</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/02/move-current-line-up-or-down/">Move Current Line Up or Down</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-02T12:00:00+03:00" pubdate data-updated="true">Apr 2<span>nd</span>, 2013</time>
        
         | <a href="/blog/2013/04/02/move-current-line-up-or-down/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>While programming(at least in some languages) I often find myself
wishing to drag the current line a couple lines up or down. Emacs does
have the means to transpose (switch) lines (courtesy of the
<code>transpose-lines</code> command bound to <code>C-x C-t</code>), but I find it
unwieldy. That&#8217;s why I&#8217;ve built a couple of custom commands on top of
it:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">move-line-up</span> <span class="p">()</span>
</span><span class='line'>  <span class="s">&quot;Move up the current line.&quot;</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">transpose-lines</span> <span class="mi">1</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">forward-line</span> <span class="mi">-2</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">indent-according-to-mode</span><span class="p">))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">move-line-down</span> <span class="p">()</span>
</span><span class='line'>  <span class="s">&quot;Move down the current line.&quot;</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">forward-line</span> <span class="mi">1</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">transpose-lines</span> <span class="mi">1</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">forward-line</span> <span class="mi">-1</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">indent-according-to-mode</span><span class="p">))</span>
</span></code></pre></td></tr></table></div></figure>


<p>Those are not the kind of commands you&#8217;ll want to invoke with
<code>M-x</code>. Therefore I suggest binding them to something like <code>C-S-up</code> and
<code>C-S-down</code>(these bindings are often used for the same purpose in other
editors and IDEs):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="nv">global-set-key</span> <span class="nv">[</span><span class="p">(</span><span class="nv">control</span> <span class="nv">shift</span> <span class="nv">up</span><span class="p">)</span><span class="nv">]</span>  <span class="ss">&#39;move-line-up</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nv">global-set-key</span> <span class="nv">[</span><span class="p">(</span><span class="nv">control</span> <span class="nv">shift</span> <span class="nv">down</span><span class="p">)</span><span class="nv">]</span>  <span class="ss">&#39;move-line-down</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Since this won&#8217;t work on OSX(<code>Control+arrow</code> is used by the window
manager) I&#8217;d recommend the following alternative to OSX users:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="nv">global-set-key</span> <span class="nv">[</span><span class="p">(</span><span class="nv">meta</span> <span class="nv">shift</span> <span class="nv">up</span><span class="p">)</span><span class="nv">]</span>  <span class="ss">&#39;move-line-up</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nv">global-set-key</span> <span class="nv">[</span><span class="p">(</span><span class="nv">meta</span> <span class="nv">shift</span> <span class="nv">down</span><span class="p">)</span><span class="nv">]</span>  <span class="ss">&#39;move-line-down</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Personally I&#8217;m not a fan of any keybindings that require me to move my
hands off the home keyboard row, but I wasn&#8217;t able to come up with
anything better. Suggestions are welcome!</p>

<p>As usual both commands(and both set of keybindings) are available in
<a href="https://github.com/bbatsov/prelude">Prelude</a>(but with <code>prelude-</code>
prefices).</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/11/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/9/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Emacs Redux</h1>
  <p>Emacs Redux&#8217;s mission is to hone your Emacs skills and increase your appreciation for Emacs&#8217;s might and magic.
    You can show your love for Emacs Redux via Patreon and Liberapay:</p>
  <a href="https://www.patreon.com/bbatsov"><img src="https://img.shields.io/badge/patreon-donate-orange.svg"></img></a>
  <a href="https://liberapay.com/bbatsov/donate"><img src="https://liberapay.com/assets/widgets/donate.svg"></img></a>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2018/09/29/super-save-0-dot-3/">super-save 0.3</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/09/29/projectile-goes-turbo/">Projectile goes Turbo</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/12/31/a-crazy-productivity-boost-remapping-return-to-control-2017-edition/">A Crazy Productivity Boost: Remapping Return to Control (2017 Edition)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/12/31/into-to-cider/">Into to CIDER</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/03/02/pimp-my-minibuffer/">Pimp My Minibuffer Evaluation</a>
      </li>
    
  </ul>
</section>
<section>
     <h1>Twitter</h1>
     <!-- PASTE THE WIDGET CODE HERE -->
     <a class="twitter-timeline" href="https://twitter.com/bbatsov" data-widget-id="382536919663386624">Tweets by @bbatsov</a>
     <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
 </section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/bbatsov">@bbatsov</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'bbatsov',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>




  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2018 - Bozhidar Batsov -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'emacsredux';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
